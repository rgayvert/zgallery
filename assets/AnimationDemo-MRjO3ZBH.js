var S=Object.defineProperty;var k=(n,t,e)=>t in n?S(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var i=(n,t,e)=>(k(n,typeof t!="symbol"?t+"":t,e),e);import{a as r,z as M,t as C,c as a,b as E,H as u,B as m,e as g,S as y,T as F,p as s,A as v,C as B,d as N,f as h,g as c,v as d,h as f,i as I,G as T}from"./index--PxxFISQ.js";import{A,S as l,B as w}from"./BasicAnimator-CKzhNdMB.js";class x{constructor(t,e,o=r(!1)){i(this,"animation");i(this,"target");i(this,"started",!1);this.keyframes=t,this.options=e,this.running=o}setTarget(t){this.target=t,this.running.addAction(()=>this.runStateChanged()),this.running.get()&&this.start()}async start(){var t,e;this.animation=(t=this.target)==null?void 0:t.animate(this.keyframes,this.options);try{await((e=this.animation)==null?void 0:e.finished)}catch{M.info("animation interrupted")}this.animation=void 0,this.running.set(!1)}runStateChanged(){var e,o;const t=this.running.get();t&&!this.animation&&this.start(),t?(e=this.animation)==null||e.play():(o=this.animation)==null||o.pause()}}class H{constructor(){i(this,"keyFrames",[{transform:"rotate(0)",color:"#000"},{color:"#431236",offset:.3},{transform:"rotate(360deg)",color:"#000"}]);i(this,"options",{duration:3e3,iterations:1/0});i(this,"running",C(!0));i(this,"animation",new x(this.keyFrames,this.options,this.running))}}function D(){const n={gap:a.space.s6};E(n,e=>{e.addIntersectionAction(o=>!o&&t.running.set(!1))});const t=new H;return u(n).append(m({animations:[t.animation],rounding:a.rounding.r4,background:a.color.blue,border:a.border.thin,height:g(4),transformOrigin:"center",width:g(4)}),y(t.running,{controlSize:"xs"}))}class Z{constructor(){i(this,"newspaperSpinning",[{transform:"rotate(0) scale(1)"},{transform:"rotate(360deg) scale(0)"}]);i(this,"newspaperTiming",{duration:2e3,iterations:1});i(this,"newspaperAnimation",new x(this.newspaperSpinning,this.newspaperTiming))}runNewspaperAnimation(){this.newspaperAnimation.running.set(!0)}}function R(){const n=new Z;return F("spinning_newspaper",{animations:[n.newspaperAnimation],events:{click:()=>n.runNewspaperAnimation()},font:a.font.headline_small,border:a.border.thin,margin:a.space.s4,cursor:"pointer"})}class z{constructor(){i(this,"faces",[["#505050a1","translateZ(50px)"],["00d200a1","rotateY(180deg) translateZ(50px)"],["d20000a1","rotateY(90deg) translateZ(50px)"],["0000d2a1","rotateY(-90deg) translateZ(50px)"],["d2d200a1","rotateX(90deg) translateZ(50px)"],["d200d2a1","rotateX(-90deg) translateZ(50px)"]])}}function Y(n,t,e){return B(n,{backfaceVisibility:"inherit",background:N({rgba:t}),color:a.color.white,font:a.font.display_medium,width:h(100),height:h(100),position:"absolute",transform:e})}function _(){const n=new z;return m({margin:a.space.s6,background:a.color.none,width:s(100),height:s(100),transformStyle:"preserve-3d",transform:"rotate3d(1, 1, 1, 30deg)",transition:"transform 2.5s",effects:{hovered:new v({transform:"rotate3d(1, 1, 1, 330deg)"},"in&out")}}).append(...n.faces.map(([t,e],o)=>Y(`${o+1}`,t,e)))}class $ extends A{constructor(){super();i(this,"thing1",new l(c(0,0),d(.1,0)));i(this,"thing2",new l(c(180,0),d(-.1,0)));this.setItems([this.thing1,this.thing2])}basicAnimator(){return new w({duration:1500})}}function G(){const n=new $;function t(e,o,p){return m({position:"absolute",width:s(20),height:s(20),rounding:p,background:o,transform:r(()=>`translate(${e.location.get().x}px, ${e.location.get().y}px)`)})}return u({gap:a.space.s8}).append(m({width:s(200),height:s(20),border:a.border.none}).append(t(n.thing1,a.color.primary,a.rounding.r0),t(n.thing2,a.color.red,a.rounding.circle)),f({label:"start",action:()=>n.start(),disabled:r(()=>n.isRunning)}))}const b=new Map([["pacman-lg-wide",[-488,-16,32,32]],["pacman-lg-open",[-520,-16,32,32]],["pacman-lg-closed",[-552,-16,32,32]]]),L=[...b.keys()];class O extends l{constructor(e){super(c(0,0),d(.1,0));i(this,"spriteName");this.spriteNames=e,this.spriteName=r(this.spriteNames[0])}step(e,o){super.step(e,o);const p=Math.floor(o/100)%this.spriteNames.length;this.spriteName.set(this.spriteNames[p])}}class P extends A{constructor(){super();i(this,"spriteImageURI","sprites.pacman");i(this,"spriteMap",b);i(this,"pacman",new O(L));this.setItems([this.pacman])}basicAnimator(){return new w({duration:1500})}}function U(){const n=new P;return u({gap:a.space.s8}).append(m({width:s(200),height:s(40),background:a.color.black,padding:s(4)}).append(I(n.pacman.spriteName,n.spriteImageURI,n.spriteMap,{transform:r(()=>n.pacman.transformPxLocation())})),f({label:"start",action:()=>n.start(),disabled:r(()=>n.isRunning)}))}function J(){return T(X)}const X={sourceDir:"/source/Demos/Animation",sections:[{title:"Component Animation 1",componentFn:D,sources:["ComponentAnimationModel1.ts","ComponentAnimationExample1.ts"],markdown:"ComponentAnimationExample1.md",preload:!0},{title:"Component Animation 2",componentFn:R,sources:["ComponentAnimationModel2.ts","ComponentAnimationExample2.ts"],markdown:"ComponentAnimationExample2.md"},{title:"Hover Animation",componentFn:_,sources:["HoverAnimationModel.ts","HoverAnimationExample.ts"],markdown:"HoverAnimationExample.md"},{title:"Frame-based animation",componentFn:G,sources:["FrameBasedAnimationModel.ts","FrameBasedAnimationExample.ts"],markdown:"FrameBasedAnimationExample.md"},{title:"Sprite animation",componentFn:U,sources:["SpriteAnimationModel.ts","SpriteAnimationExample.ts"],markdown:"SpriteAnimationExample.md"}]};export{J as AnimationDemo,J as default};
