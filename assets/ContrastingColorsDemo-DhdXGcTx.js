var w=Object.defineProperty;var B=(o,t,n)=>t in o?w(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var s=(o,t,n)=>(B(o,typeof t!="symbol"?t+"":t,n),n);import{a,R as p,d as m,l as g,U as f,W as h,X as S,Y as C,j as R,b as e,H as c,k as i,x as _,Z as F,m as L,g as b,G as D}from"./index-CKN91vmA.js";import{C as G}from"./ColorSelector-B2qPCiAG.js";function k(o,t){const n=h(o,"hsl");return h(S(n.comp[0],n.comp[1],t),"rgb")}function T(o,t){const n=C(o),l=C(t);return(Math.max(n,l)+.05)/(Math.min(n,l)+.05)}class M{constructor(){s(this,"bgColor",a(p("#8388ee")));s(this,"fgColor",a(p("#888888")));s(this,"bgToken",a(()=>m({color:this.bgColor.get()})));s(this,"fgToken",a(()=>m({color:this.fgColor.get()})));s(this,"contrast",a(()=>T(this.bgColor.get(),this.fgColor.get())));s(this,"text",a(()=>`Contrast: ${g.printRoundedTo(this.contrast.get(),2)} : 1`));s(this,"targetContrast",a("7 : 1"));s(this,"targetRatio",a(()=>parseFloat(this.targetContrast.get().slice(0,-3))));s(this,"targetChoices",g.sequence(0,20).map(t=>`${2+t*.5} : 1`));s(this,"disableAdjust",a(()=>this.contrast.get()>=this.targetRatio.get()));s(this,"white",f(255,255,255));s(this,"black",f(0,0,0))}findTone(t,n,l){const d=g.sequence(0,101).map(r=>[r,T(k(t,r),n)-l]).filter(r=>r[1]>=0);return d.sort((r,j)=>r[1]-j[1]),d.length>0?k(t,d[0][0]):void 0}adjustBackground(){const t=this.findTone(this.bgColor.get(),this.fgColor.get(),this.targetRatio.get());t&&this.bgColor.set(t)}adjustForeground(){const t=this.findTone(this.fgColor.get(),this.bgColor.get(),this.targetRatio.get());t&&this.fgColor.set(t)}}function x(o,t){const n=a(()=>`Relative Luminance: ${g.printRoundedTo(C(o.get()),4)}`);return R({gap:e.space.s7,padding:e.space.s6,name:"ContrastingColors"}).append(c({gap:e.space.s8}).append(i(t,{font:e.font.title_medium}),G(o,`contrastingcolors_${t.toLowerCase()}`)),i(n,{font:e.font.title_medium}))}function u(o,t,n){return i(o,{font:n,color:t})}function v(){const o=new M;return R({gap:e.space.s5,padding:e.space.s6,name:"ContrastingColors"}).append(x(o.bgColor,"Background"),x(o.fgColor,"Foreground"),c({gap:e.space.s5}).append(i(o.text,{font:e.font.title_medium}),c({padding:e.space.s5,gap:e.space.s7,border:e.border.thin,background:o.bgToken}).append(u("Large",o.fgToken,e.font.headline_medium),u("Medium",o.fgToken,e.font.body_medium),u("Small",o.fgToken,e.font.label_small))),_(e.space.s3),c({gap:e.space.s5}).append(i("Target Contrast:",{font:e.font.title_medium}),F(o.targetContrast,o.targetChoices,{width:L(10)}),b({label:"Adjust BG",action:()=>o.adjustBackground(),rounding:e.rounding.pill}),b({label:"Adjust FG",action:()=>o.adjustForeground(),rounding:e.rounding.pill})))}function q(){return D(H)}const H={sourceDir:"/source/Demos/Colors",sections:[{title:"Contrasting Colors",componentFn:v,sources:["ContrastingColorsModel.ts","ColorSelector.ts","ContrastingColorsExample.ts"],markdown:"ContrastingColorsExample.md"}]};export{q as ContrastingColorsDemo,q as default};
