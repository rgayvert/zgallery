var k=Object.defineProperty;var S=(n,t,e)=>t in n?k(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var i=(n,t,e)=>(S(n,typeof t!="symbol"?t+"":t,e),e);import{a as s,z as M,c as C,H as g,b as a,B as m,e as h,S as E,T as y,p as r,A as F,C as N,d as v,f as u,P as c,V as d,g as f,h as B,G as I}from"./index-DX_OPTHH.js";import{A,S as l,a as w}from"./Animator-CgSvMK4p.js";class x{constructor(t,e,o=s(!1)){i(this,"animation");i(this,"target");i(this,"started",!1);this.keyframes=t,this.options=e,this.running=o}setTarget(t){this.target=t,this.running.addAction(()=>this.runStateChanged()),this.running.get()&&this.start()}async start(){var t,e;this.animation=(t=this.target)==null?void 0:t.animate(this.keyframes,this.options);try{await((e=this.animation)==null?void 0:e.finished)}catch{M.info("animation interrupted")}this.animation=void 0,this.running.set(!1)}runStateChanged(){var e,o;const t=this.running.get();t&&!this.animation&&this.start(),t?(e=this.animation)==null||e.play():(o=this.animation)==null||o.pause()}}class T{constructor(){i(this,"keyFrames",[{transform:"rotate(0)",color:"#000"},{color:"#431236",offset:.3},{transform:"rotate(360deg)",color:"#000"}]);i(this,"options",{duration:3e3,iterations:1/0});i(this,"running",C(!0));i(this,"animation",new x(this.keyFrames,this.options,this.running))}}function H(){const n=new T;return g({gap:a.space.s6}).append(m({animations:[n.animation],rounding:a.rounding.r4,background:a.color.blue,border:a.border.thin,height:h(4),transformOrigin:"center",width:h(4)}),E(n.running))}class D{constructor(){i(this,"newspaperSpinning",[{transform:"rotate(0) scale(1)"},{transform:"rotate(360deg) scale(0)"}]);i(this,"newspaperTiming",{duration:2e3,iterations:1});i(this,"newspaperAnimation",new x(this.newspaperSpinning,this.newspaperTiming))}runNewspaperAnimation(){this.newspaperAnimation.running.set(!0)}}function Z(){const n=new D;return y("spinning_newspaper",{animations:[n.newspaperAnimation],events:{click:()=>n.runNewspaperAnimation()},font:a.font.headline_small,border:a.border.thin,margin:a.space.s4,cursor:"pointer"})}class P{constructor(){i(this,"faces",[["#505050a1","translateZ(50px)"],["00d200a1","rotateY(180deg) translateZ(50px)"],["d20000a1","rotateY(90deg) translateZ(50px)"],["0000d2a1","rotateY(-90deg) translateZ(50px)"],["d2d200a1","rotateX(90deg) translateZ(50px)"],["d200d2a1","rotateX(-90deg) translateZ(50px)"]])}}function R(n,t,e){return N(n,{backfaceVisibility:"inherit",background:v({rgba:t}),color:a.color.white,font:a.font.display_medium,width:u(100),height:u(100),position:"absolute",transform:e})}function V(){const n=new P;return m({margin:a.space.s6,background:a.color.none,width:r(100),height:r(100),transformStyle:"preserve-3d",transform:"rotate3d(1, 1, 1, 30deg)",transition:"transform 2.5s",effects:{hovered:new F({transform:"rotate3d(1, 1, 1, 330deg)"},"in&out")}}).append(...n.faces.map(([t,e],o)=>R(`${o+1}`,t,e)))}class Y extends A{constructor(){super();i(this,"thing1",new l(c(0,0),d(.1,0)));i(this,"thing2",new l(c(180,0),d(-.1,0)));this.setItems([this.thing1,this.thing2])}createAnimator(){return new w({duration:1500})}}function _(){const n=new Y;function t(e,o,p){return m({position:"absolute",width:r(20),height:r(20),rounding:p,background:o,transform:s(()=>`translate(${e.location.get().x}px, ${e.location.get().y}px)`)})}return g({gap:a.space.s8}).append(m({width:r(200),height:r(20),border:a.border.none}).append(t(n.thing1,a.color.primary,a.rounding.r0),t(n.thing2,a.color.red,a.rounding.circle)),f({label:"start",action:()=>n.start(),disabled:s(()=>n.isRunning)}))}const b=new Map([["pacman-lg-wide",[-488,-16,32,32]],["pacman-lg-open",[-520,-16,32,32]],["pacman-lg-closed",[-552,-16,32,32]]]),$=[...b.keys()];class z extends l{constructor(e){super(c(0,0),d(.1,0));i(this,"spriteName");this.spriteNames=e,this.spriteName=s(this.spriteNames[0])}step(e,o){super.step(e,o);const p=Math.floor(o/100)%this.spriteNames.length;this.spriteName.set(this.spriteNames[p])}}class G extends A{constructor(){super();i(this,"spriteImageURI","sprites.pacman");i(this,"spriteMap",b);i(this,"pacman",new z($));this.setItems([this.pacman])}createAnimator(){return new w({duration:1500})}}function L(){const n=new G;return g({gap:a.space.s8}).append(m({width:r(200),height:r(40),background:a.color.black,padding:r(4)}).append(B(n.pacman.spriteName,n.spriteImageURI,n.spriteMap,{transform:s(()=>n.pacman.transformPxLocation())})),f({label:"start",action:()=>n.start(),disabled:s(()=>n.isRunning)}))}function q(){return I(U)}const U={sourceDir:"/source/Demos/Animation",sections:[{title:"Component Animation 1",componentFn:H,sources:["ComponentAnimationModel1.ts","ComponentAnimationExample1.ts"],markdown:"ComponentAnimationExample1.md"},{title:"Component Animation 2",componentFn:Z,sources:["ComponentAnimationModel2.ts","ComponentAnimationExample2.ts"],markdown:"ComponentAnimationExample2.md"},{title:"Hover Animation",componentFn:V,sources:["HoverAnimationModel.ts","HoverAnimationExample.ts"],markdown:"HoverAnimationExample.md"},{title:"Frame-based animation",componentFn:_,sources:["FrameBasedAnimationModel.ts","FrameBasedAnimationExample.ts"],markdown:"FrameBasedAnimationExample.md"},{title:"Sprite animation",componentFn:L,sources:["SpriteAnimationModel.ts","SpriteAnimationExample.ts"],markdown:"SpriteAnimationExample.md"}]};export{q as AnimationDemo,q as default};
